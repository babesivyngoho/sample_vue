import{_ as b,r as s,o as c,b as C,w as n,d as o,h as S,c as d,a as y,t as m,e as f,F as v,i as x}from"./index-47a93c9c.js";const R={props:["parameters"],data(){return{items:[]}},methods:{}};function I(e,t,u,k,r,a){const i=s("v-icon"),l=s("v-breadcrumbs");return e.isReady?(c(),C(l,{key:0,items:r.items},{divider:n(()=>[o(i,{icon:"mdi-chevron-right"})]),_:1},8,["items"])):S("",!0)}const V=b(R,[["render",I]]);const $={props:["user","features"],emits:["selected"],methods:{onClick(e){this.$emit("selected",e)}}},w={class:"main-text"};function H(e,t,u,k,r,a){const i=s("v-row"),l=s("v-sheet"),_=s("v-icon"),h=s("v-card"),g=s("v-col");return c(),d(v,null,[o(i,{"no-gutters":""},{default:n(()=>[y("div",w," Hello, "+m(u.user.username)+"! ",1)]),_:1}),o(i,{"no-gutters":""},{default:n(()=>[o(l,{class:"role-text"},{default:n(()=>[f(m(u.user.role),1)]),_:1})]),_:1}),o(i,{class:"pt-5"},{default:n(()=>[(c(!0),d(v,null,x(u.features,p=>(c(),C(g,{class:"button-layout",cols:"5",xs:"5",sm:"4",md:"3",lg:"2"},{default:n(()=>[o(h,{class:"button-style d-flex align-center justify-center",variant:"outlined",rounded:"",onClick:B=>a.onClick(p)},{default:n(()=>[o(_,{class:"icon-style",size:"70"},{default:n(()=>[f(m(p.icon),1)]),_:2},1024)]),_:2},1032,["onClick"]),o(l,{class:"pt-3 text-center button-name-style text-uppercase"},{default:n(()=>[f(m(p.name.toUpperCase()),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})],64)}const N=b($,[["render",H],["__scopeId","data-v-e1ef494a"]]),A={components:{MainView:V,UserHomeComponent:N},data(){return{role:"",buttons:[{id:0,name:"Search",icon:"mdi-magnify",link:"search",route:"Search"},{id:1,name:"Value Chain Data Management",icon:"mdi-graph-outline",link:"vcmgt",route:"ValueChainMgt"},{id:2,name:"Report Management",icon:"mdi-file-document-outline",link:"report",route:"ReportManagement"},{id:3,name:"Account Settings",icon:"mdi-account-cog-outline",link:"account",route:"AccountSettings"}],isReady:!1,user:{username:null,role:null},selected:!1,items:[{title:"Home",link:!0,exact:!0,disabled:!1,href:"/home"}]}},mounted(){this.$route.name=="Home"&&localStorage.removeItem("breadcrumbs"),this.items=localStorage.getItem("breadcrumbs")!=null?JSON.parse(localStorage.getItem("breadcrumbs")):this.items,this.getData()},methods:{getData(){this.user.role="Value Chain Analyst",this.user.username=localStorage.getItem("user_name"),this.isReady=!0},getRole(){return console.log(this.$store.getters.getRole()),this.$store.getters.getRole()},buttonClick(e){console.log(e),e.report!=null?localStorage.setItem("isReport",!0):localStorage.setItem("isReport",null),this.addCrumb(e)},addCrumb(e){let t={title:e.name,disabled:!0,link:!0,exact:!0,to:{name:e.route}};console.log(t),this.items.push(t),this.updateCrumbs(),this.selected=!0,this.$router.push({name:e.route}),e.report!=null?localStorage.setItem("isReport",!0):localStorage.setItem("isReport",null),localStorage.setItem("breadcrumbs",JSON.stringify(this.items))},updateCrumbs(){for(let e=0;e<this.items.length-1;e++)this.items[e].disabled=!1;localStorage.setItem("breadcrumbs",JSON.stringify(this.items))},checkActive(e){this.checkCrumbs(e)},checkCrumbs(e){for(let t=0;t<this.items.length;t++)this.items[t].title===e&&this.items.length>t+1&&(this.items.length=t+1,this.items[t].disabled=!0,localStorage.setItem("breadcrumbs",JSON.stringify(this.items)))}}},M={key:1};function U(e,t,u,k,r,a){const i=s("UserHomeComponent"),l=s("v-icon"),_=s("v-breadcrumbs"),h=s("router-view"),g=s("v-container");return e.$route.name=="Home"?(c(),d(v,{key:0},[r.isReady?(c(),C(i,{key:0,user:r.user,features:r.buttons,onSelected:a.buttonClick},null,8,["user","features","onSelected"])):S("",!0)],64)):(c(),d("div",M,[o(_,{items:r.items},{divider:n(()=>[o(l,{icon:"mdi-chevron-right"})]),_:1},8,["items"]),o(g,{fluid:"","fill-height":""},{default:n(()=>[o(h,{onSelected:a.buttonClick,onActiveView:a.checkActive},null,8,["onSelected","onActiveView"])]),_:1})]))}const J=b(A,[["render",U]]);export{J as default};
